<!DOCTYPE html>
<!-- <html lang="en"> -->
<head>
    <meta charset="UTF-8">
    <title>AI Scratch</title>
    <link rel="stylesheet" href="../css/index_style.css">
</head>
<body>
    <script src="scripts/index.js"></script>
    <script src="scripts/layerHandler.js"></script>
    <script src="scripts/nodeHandler.js"></script>
    <script src="scripts/trainModel.js"></script>
    <script src="scripts/testHandler.js"></script>
    <script src="https://raw.githack.com/SortableJS/Sortable/master/Sortable.js"></script>

    <div class="container">
        <div class="layer-select">
            <div class="select">
                <button id="input-layer-button"><img src="/res/input.svg"><br>입력</button>
                <button id="hidden-layer-button"><img src="/res/layers.svg"><br>모델 쌓기</button>
                <button id="run-layer-button"><img src="/res/output.svg"><br>출력</button>
            </div>

            <div id="layer1" style="display: none">
                <div class="node-boxes" id="input-number">
                    <p class="text">시작값과 예측값을 입력해주세요</p>
                    <div class="input-boxes"><label for="x">X:</label><input type="text" id='x' size="20" placeholder="콤마(,)로 구분된 숫자"/></div>
                    <div class="input-boxes"><label for="y">Y:</label><input type="text" id='y' size="20" placeholder="콤마(,)로 구분된 숫자"/></div>
                </div>
                <div class="node-boxes" id="input-image">
                    <p class="text">이미지를 선택해주세요</p>
                    <input type="file" id='img' accept="image/*" multiple="multiple"/>
                </div>
                <div class="node-boxes" id="input-text">
                    <p class="text">질문을 입력해주세요</p>
                    <div class="input-boxes"><input id="text" size="20" placeholder="예)안녕? 너는 누구니?"/></div>
                </div>
            </div>

            <div id="layer2" style="display: none">
                <div class="node-boxes" id="hidden-dense">
                    <p class="text">뉴런</p>
                    <p class="text">사용할 뉴런 개수: <input type='number' id="units" min="1" max="50"/></p>
                    <p class="text">사용할 활성화 함수: 
                        <select id="activationFunc" >
                            <option value="sigmoid">시그모이드</option>
                            <option value="softmax">소프트맥스</option>
                            <option value="relu">ReLU</option>
                        </select>
                    </p>
                </div>
                <div class="node-boxes" id="hidden-image">
                    <p class="text">이미지 분류기</p>
                </div>
                <div class="node-boxes" id="hidden-chat">
                    <p class="text">채팅 봇</p>
                </div>
            </div>

            <div id="layer3" style="display: none">
                <div class="node-boxes">
                    <input type="submit" class="submit-button" id="train-model" value="모델 훈련시키기" disabled/>
                </div>
                <div class="node-boxes">
                    <input type="submit" class="submit-button" id="generate-text" value="모델에 질문하기" disabled/>
                </div>
            </div>
        </div>

        <div class="layer-canvas">
            <div id="draw-model">
                <div id="constructModel"><p class="text" id="placeholdertext" style="display: block;">이곳에 입력 노드를 끌어와주세요</p></div>
            </div>
            
            <button id="reset" title=""><img src="res/reset.svg" ></button>

            <div id="layer-description"></div>
        </div>

        <div class="output">
            <div id="model-log">
                <div id="log">model log</div>
            </div>
            <div id="model-test">
                <div id="num-test-page" style="display: none;">
                    <p class="text">예측할 숫자 입력</p>
                    <input type="text" size="20" placeholder="콤마(,)로 구분된 숫자"/>
                    <div id="num-test-output"></div>
                </div>
                <div id="image-test-page" style="display: none;">
                    <p class="text">분류할 이미지 업로드</p>
                    <div id="image-test-output"></div>
                </div>
                <div id="text-test-page" style="display: none;">
                    <p class="text">질문 입력</p>
                    <input type="text" size="20" placeholder="예)안녕? 너는 누구니?"/>
                    <div id="text-test-output"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
    </div>


    <script>
        Sortable.create(layer1, {
            sort: false,
            group: {
                name: 'input_layer',
                //pull: 'clone',
                //put: true
            },
        });

        Sortable.create(layer2, {
            sort: false,
            group: {
                name: 'hidden_layer',
                pull: true,
                //put: true
            }
        });

        Sortable.create(layer3, {
            sort: false,
            group: {
                name: 'run_layer',
                pull: true,
                //put: true
            }
        });

        Sortable.create(constructModel, {
            sort: false,
            group: {
                name: 'constructed',
                pull: true,
                put: true
            },
            animation: 100,
            // onEnd: function(evt) {
            //     var item = evt.item;
            //     if(evt.to.id === 'layer1'){
            //         evt.to.removeChild(item);
            //     }
            // }
        });
    </script>
    
</body>
</html>

